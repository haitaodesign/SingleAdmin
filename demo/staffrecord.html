<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>员工档案</title>
    <style>
    .layui-table-staffrecordlist{
        margin-right: 10px;
    }
    .baseInfo{
        margin: 10px;
    }
    .baseInfo-one{
        display: inline-table;
        width: 1080px;

    }
    .baseInfo-one-img{
        float: left;
        width: 120px;
        height: 138px;
        background-color:black;

    }
    .baseInfo-one-table{
        float: left;
        width: 900px;
        margin-left: 20px;
    }
    </style>
</head>
<body>
        <div class="layui-form-search">
                <form class="layui-form">
                        <div class="layui-form-item">
                                <label class="layui-form-label">部门:</label>
                                <div class="layui-input-inline">
                                  <select name="quiz2">
                                    <option value="">全部</option>
                                  </select>
                                </div>
                                <div class="layui-inline">
                                        <label class="layui-form-label">状态：</label>
                                        <div class="layui-input-inline">
                                                <select name="quiz2">
                                                        <option value="">全部</option>
                                                </select>
                                        </div>
                                </div>
                                <div class="layui-inline">
                                        <input type="text"  class="layui-input" name="title" lay-verify="title" autocomplete="off" placeholder="请输入工号或姓名查询">
                                </div>
                            <button class="layui-btn" lay-submit lay-filter="staffrecordsearch">查询</button>
                        </div>
                </form>
        </div>
        <div class="layui-table-staffrecordlist">
                <table class="layui-hide" id="staffrecord-manage" lay-filter="staffrecord"></table>
        </div>
        <script type="text/html" id="checkdetails">
            <a class="layui-btn layui-btn-mini" lay-event="enter-check">查看</a>
        </script>
        <script>
            (function(){
                $.getScript('./js/thirdParty/jquery.media.js',function(data,textStatus,jqxhr){
                    console.log('jquery.media.js 加载成功');
                })
            })();
        </script>
        
        <script>
            
            layui.use(['form','table','ajaxhtml'],function(){
                var form = layui.form,
                table = layui.table,
                ajaxhtml = layui.ajaxhtml;

                var fulltimetableins = table.render({
                    elem:'#staffrecord-manage',
                    url:'/mockdata/fulltimedata.json',
                    cols:[[
                        {field:'id',title:'工号',width:100},
                        {field:'name',title:'姓名',width:100},
                        {field:'name',title:'性别',width:100},
                        {field:'dept',title:'部门',width:150},
                        {field:'dept',title:'所属分组',width:150},
                        {field:'position',title:'职位',width:120},
                        {field:'dept',title:'状态',width:150},
                        {field:'',title:'操作',width:150,align:'center',toolbar:'#checkdetails'}
                    ]],
                    page:true,
                    height:750,
                    id:'staffrecord'
                }) 

                form.on('submit(staffrecordsearch)',function(data){
                    console.log(data);
                    return false;
                });
                form.render();

                table.on('tool(staffrecord)',function(obj){
                    if(obj.event==="enter-check"){
                        console.log(obj.data);
                        // 获取当前数据的id,作为url请求的参数
                        ajaxhtml.pageLoad('/demo/recorddetails.html');
                    }
                })
            });

            
        </script>
</body>
</html>