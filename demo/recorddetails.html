<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>档案详情</title>
    <style>
    .baseInfo-one-img{
        float: left;
        width: 120px;
        height: 138px;
        background-color:black;

    }
    .baseInfo-one-table{
        float: left;
        width: 900px;
        margin-left: 20px;
    }
    .baseInfo-two{
        clear: both;
        margin-top: 20px;
    }
    .pdf-preview{
        margin-top: 20px;
    }
    </style>
</head>
<body>
    <!-- 选项卡 -->
    <div class="layui-tab">
        <ul class="layui-tab-title">
          <li class="layui-this">基本信息</li>
          <li>简历</li>
          <li>员工历程</li>
        </ul>
        <div class="layui-tab-content">
          <div class="layui-tab-item layui-show" >
              <div id="base-info-view"></div>
          </div>
          <div class="layui-tab-item">
                <button type="button" class="layui-btn" id="resumeupload">
                        <i class="layui-icon">&#xe67c;</i>选择文件
                </button>
                <button type="button" class="layui-btn layui-btn-normal layui-btn-disabled" id="clickupload">点击上传</button>
                <div class="pdf-preview">
                    <a class="mediapdf" href="./mockdata/es6base.pdf"></a>
                </div>
          </div>
          <div class="layui-tab-item">
                <ul class="layui-timeline">
                        <li class="layui-timeline-item">
                          <i class="layui-icon layui-timeline-axis">&#xe63f;</i>
                          <div class="layui-timeline-content layui-text">
                            <h3 class="layui-timeline-title">8月18日</h3>
                            <p>
                              layui 2.0 的一切准备工作似乎都已到位。发布之弦，一触即发。
                              <br>不枉近百个日日夜夜与之为伴。因小而大，因弱而强。
                              <br>无论它能走多远，抑或如何支撑？至少我曾倾注全心，无怨无悔 <i class="layui-icon"></i>
                            </p>
                          </div>
                        </li>
                        <li class="layui-timeline-item">
                          <i class="layui-icon layui-timeline-axis">&#xe63f;</i>
                          <div class="layui-timeline-content layui-text">
                            <h3 class="layui-timeline-title">8月16日</h3>
                            <p>杜甫的思想核心是儒家的仁政思想，他有“<em>致君尧舜上，再使风俗淳</em>”的宏伟抱负。个人最爱的名篇有：</p>
                            <ul>
                              <li>《登高》</li>
                              <li>《茅屋为秋风所破歌》</li>
                            </ul>
                          </div>
                        </li>
                        <li class="layui-timeline-item">
                          <i class="layui-icon layui-timeline-axis">&#xe63f;</i>
                          <div class="layui-timeline-content layui-text">
                            <h3 class="layui-timeline-title">8月15日</h3>
                            <p>
                              中国人民抗日战争胜利72周年
                              <br>常常在想，尽管对这个国家有这样那样的抱怨，但我们的确生在了最好的时代
                              <br>铭记、感恩
                              <br>所有为中华民族浴血奋战的英雄将士
                              <br>永垂不朽
                            </p>
                          </div>
                        </li>
                        <li class="layui-timeline-item">
                          <i class="layui-icon layui-timeline-axis">&#xe63f;</i>
                          <div class="layui-timeline-content layui-text">
                            <div class="layui-timeline-title">过去</div>
                          </div>
                        </li>
                      </ul>
          </div>
        </div>
      </div>
</body>
<!-- 基本信息数据模板 -->
<script type="text/html" id="baseInfotpl">
    <div class="baseInfo">
        <div class="baseInfo-one">
            <div class="baseInfo-one-img">
            </div>
            <div class="baseInfo-one-table">
                <table class="layui-table">
                    <tr>
                        <td>工号</td>
                        <td>{{ d.title}}</td>
                        <td>姓名</td>
                        <td></td>
                        <td>性别</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>部门</td>
                        <td></td>
                        <td>岗位</td>
                        <td></td>
                        <td>所属分组</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>当前薪资</td>
                        <td></td>
                    </tr>
                </table>
            </div>
        </div>
        <hr>
        <div class="baseInfo-two">
                <table class="layui-table" lay-size="sm">
                        <colgroup>
                            <col>
                            <col width="300">
                            <col>
                            <col>
                            <col>
                            <col>
                            <col>
                            <col width="300">
                          </colgroup>
                        <tr>
                            <td>年龄</td>
                            <td></td>
                            <td>民族</td>
                            <td></td>
                            <td>籍贯</td>
                            <td></td>
                            <td>婚否</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>户口类型</td>
                            <td></td>
                            <td>出生年月日</td>
                            <td></td>
                            <td>政治面貌</td>
                            <td></td>
                            <td>身份证号码</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>入职日期</td>
                            <td></td>
                            <td>转正日期</td>
                            <td></td>
                            <td>服务年限</td>
                            <td></td>
                            <td>员工状态</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>学历</td>
                            <td></td>
                            <td>政治面貌</td>
                            <td></td>
                            <td>毕业院校</td>
                            <td></td>
                            <td>专业</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>社保状态</td>
                            <td></td>
                            <td>邮箱</td>
                            <td>5545822@qq.com</td>
                            <td>手机号码</td>
                            <td>123546542565</td>
                            <td>家庭住址</td>
                            <td>反反复复发发发付付付付付付付付付付付付付付付付付付付付付付付付付付付付付付付付付付付</td>
                        </tr>
                        <tr>
                            <td>户籍地址</td>
                            <td>反反复复发发发付付付付付付付付付付付付付付付付付付付付付付付付付付付付付付付付付付付</td>
                            <td>学历</td>
                            <td></td>
                            <td>开户银行</td>
                            <td></td>
                            <td>银行卡号</td>
                            <td></td>
                        </tr>
                    </table>
            <button class="layui-btn" id="baseInfo-update">编辑</button>
        </div>
    </div>
</script>

<!-- 编辑模板 -->
<script type="text/html" id="baseInfosave">
    <form class="layui-form" style="margin-top:20px;">
            <div class="layui-form-item">
                    <div class="layui-input-inline" style="display:none;">
                            <input type="text" name="Id" lay-verify="title" autocomplete="off" class="layui-input">
                    </div>
                    <label class="layui-form-label">年龄：</label>
                    <div class="layui-input-inline">
                        <input type="text" name="age" value="{{ d.title}}" lay-verify="title" autocomplete="off" class="layui-input">
                    </div>
                    <label class="layui-form-label">民族：</label>
                    <div class="layui-input-inline">
                        <input type="text" name="name"  lay-verify="title" autocomplete="off" class="layui-input">
                    </div>
                    <label class="layui-form-label">籍贯：</label>
                    <div class="layui-input-inline">
                        <input type="text" name="name"  lay-verify="title" autocomplete="off" class="layui-input">
                    </div>
            </div>
            <div class="layui-form-item">
                    <label class="layui-form-label">婚否：</label>
                    <div class="layui-input-inline">
                        <input type="text" name="name"  lay-verify="title" autocomplete="off" class="layui-input">
                    </div>
                    <label class="layui-form-label">户口类型：</label>
                    <div class="layui-input-inline">
                        <input type="text" name="name"  lay-verify="title" autocomplete="off" class="layui-input">
                    </div>
                    <label class="layui-form-label">出生年月日：</label>
                    <div class="layui-input-inline">
                        <input type="text" name="name"  lay-verify="title" autocomplete="off" class="layui-input">
                    </div>
            </div>
            <div class="layui-form-item">
                    <label class="layui-form-label">政治面貌：</label>
                    <div class="layui-input-inline">
                        <input type="text" name="name"  lay-verify="title" autocomplete="off" class="layui-input">
                    </div>
                    <label class="layui-form-label">身份证号码：</label>
                    <div class="layui-input-inline">
                        <input type="text" name="name"  lay-verify="title" autocomplete="off" class="layui-input">
                    </div>
                    <label class="layui-form-label">入职日期：</label>
                    <div class="layui-input-inline">
                        <input type="text" name="name"  lay-verify="title" autocomplete="off" class="layui-input">
                    </div>
            </div>
            <div class="layui-form-item">
                    <label class="layui-form-label">转正时间：</label>
                    <div class="layui-input-inline">
                        <input type="text" name="name"  lay-verify="title" autocomplete="off" class="layui-input">
                    </div>
                    <label class="layui-form-label">服务年限：</label>
                    <div class="layui-input-inline">
                        <input type="text" name="name"  lay-verify="title" autocomplete="off" class="layui-input">
                    </div>
                    <label class="layui-form-label">员工状态：</label>
                    <div class="layui-input-inline">
                        <input type="text" name="name"  lay-verify="title" autocomplete="off" class="layui-input">
                    </div>
            </div>
            <div class="layui-form-item">
                    <label class="layui-form-label">学历：</label>
                    <div class="layui-input-inline">
                        <input type="text" name="name"  lay-verify="title" autocomplete="off" class="layui-input">
                    </div>
                    <label class="layui-form-label">政治面貌：</label>
                    <div class="layui-input-inline">
                        <input type="text" name="name"  lay-verify="title" autocomplete="off" class="layui-input">
                    </div>
                    <label class="layui-form-label">毕业院校：</label>
                    <div class="layui-input-inline">
                        <input type="text" name="name"  lay-verify="title" autocomplete="off" class="layui-input">
                    </div>
            </div>
            <div class="layui-form-item">
                    <label class="layui-form-label">专业：</label>
                    <div class="layui-input-inline">
                        <input type="text" name="name"  lay-verify="title" autocomplete="off" class="layui-input">
                    </div>
                    <label class="layui-form-label">社保状态：</label>
                    <div class="layui-input-inline">
                        <input type="text" name="name"  lay-verify="title" autocomplete="off" class="layui-input">
                    </div>
                    <label class="layui-form-label">手机号码：</label>
                    <div class="layui-input-inline">
                        <input type="text" name="name"  lay-verify="title" autocomplete="off" class="layui-input">
                    </div>
            </div>
            <div class="layui-form-item">
                    <label class="layui-form-label">邮箱：</label>
                    <div class="layui-input-inline">
                        <input type="text" name="name"  lay-verify="title" autocomplete="off" class="layui-input">
                    </div>
                    <label class="layui-form-label">家庭住址：</label>
                    <div class="layui-input-inline">
                        <input type="text" name="name"  lay-verify="title" autocomplete="off" class="layui-input">
                    </div>
                    <label class="layui-form-label">学历：</label>
                    <div class="layui-input-inline">
                        <input type="text" name="name"  lay-verify="title" autocomplete="off" class="layui-input">
                    </div>
            </div>
            <div class="layui-form-item">
                    <label class="layui-form-label">卡户银行：</label>
                    <div class="layui-input-inline">
                        <input type="text" name="name"  lay-verify="title" autocomplete="off" class="layui-input">
                    </div>
                    <label class="layui-form-label">银行卡号：</label>
                    <div class="layui-input-inline">
                        <input type="text" name="name"  lay-verify="title" autocomplete="off" class="layui-input">
                    </div>
            </div>
            <div class="layui-form-item">
                <button class="layui-btn" lay-submit lay-filter="addchangework" style="margin-left:150px;">保存</button>
            </div>
        </form>
</script>
<script>
    (function(){
        $.getScript('./js/thirdParty/jquery.media.js',function(data,textStatus,jqxhr){
            console.log('jquery.media.js 加载成功');
        });
    })();    
</script>   
<script>
    layui.use(['laytpl','element','form','upload','layer'],function(){
        var element = layui.element;
        var laytpl = layui.laytpl,
            form = layui.form,
            upload = layui.upload,
            layer = layui.layer;

        // 数据
        var data = {
            "title":"L1228"
        };
        var gettpl = baseInfotpl.innerHTML,
        baseinfoview =document.getElementById('base-info-view');
        // 模板渲染 基本信息
        laytpl(gettpl).render(data,function(html){
            baseinfoview.innerHTML = html;
        });

        $('#baseInfo-update').on('click',function(){
            //先通过模板渲染数据
            var htmlcontent ="";
            var getsavetpl =  baseInfosave.innerHTML;
            laytpl(getsavetpl).render(data,function(html){
                htmlcontent = html;
            });
            layer.open({
                type:1,
                title:'修改员工档案基本信息',
                content:htmlcontent,
                area:['1080px','650px']
            });
        });

        form.on('submit(addchangework)',function(obj){
            console.log(obj.field);
            return false;
        });
        $('a.mediapdf').media({width:"100%",height:700});

        upload.render({
            elem:'#resumeupload',
            url:'/',
            accept:'file',
            field:'namevalue',
            auto:false,
            bindAction:'#clickupload',
            choose:function(obj){
                obj.preview(function(index, file, result){
                    var filestuff = file.name.slice(-3);
                    if(filestuff!=="pdf"){
                        layer.tips('请选择pdf格式的文件上传','#resumeupload',{
                            tips:1
                        });
                    }else{
                        $("#clickupload").removeClass('layui-btn-disabled');
                    }
                })
            },
            done:function(res,index,upload){
                console.log(res);
            }
        })
    });
</script>
</html>